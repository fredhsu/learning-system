<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Information Architecture Demo</title>
    <link rel="stylesheet" href="static/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/feather-icons/4.29.0/feather.min.css">
</head>
<body>
    <div style="padding: 2rem; max-width: 800px; margin: 0 auto;">
        <h1>Information Architecture Improvements - Phase 4 Demo</h1>
        <p>Demonstrating the new collapsible sections, count badges, and smart truncation:</p>
        
        <!-- Enhanced Card with Collapsible Linked Cards -->
        <div class="card" data-id="1">
            <div class="card-header">
                <span class="zettel-id">12.5</span>
                <h4 class="card-title">Machine Learning Algorithms</h4>
                <div class="card-header-meta">
                    <div class="card-header-meta-item">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
                            <line x1="16" y1="2" x2="16" y2="6"/>
                            <line x1="8" y1="2" x2="8" y2="6"/>
                            <line x1="3" y1="10" x2="21" y2="10"/>
                        </svg>
                        <span class="card-header-meta-value">Sept 2, 2025</span>
                    </div>
                    <div class="card-header-meta-item">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M9 11H5a2 2 0 0 0-2 2v5a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-5a2 2 0 0 0-2-2h-4"/>
                            <path d="M9 7l3-3 3 3"/>
                            <path d="M12 4v8"/>
                        </svg>
                        <span class="card-header-meta-value">8 reviews</span>
                    </div>
                    <div class="card-header-meta-item">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="3"/>
                            <path d="M12 1v6m0 6v6m11-7h-6m-6 0H1"/>
                        </svg>
                        <span class="card-header-meta-value">Review</span>
                    </div>
                </div>
            </div>
            <div class="card-content">
                <p>Machine learning algorithms are computational methods that enable systems to learn patterns from data without being explicitly programmed. Key categories include supervised, unsupervised, and reinforcement learning approaches.</p>
            </div>
            
            <!-- Collapsible Linked Cards Section -->
            <div class="card-links-section" id="card-links-1">
                <div class="linked-cards">
                    <div class="linked-cards-header" onclick="toggleSection('linked-cards-list-1', this)">
                        <div class="section-header-left">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"/>
                                <path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"/>
                            </svg>
                            <span>Linked Cards</span>
                            <div class="section-count-badge">4</div>
                        </div>
                        <span class="section-toggle-icon">▼</span>
                    </div>
                    <div class="linked-cards-list" id="linked-cards-list-1">
                        <a href="#" class="linked-card-item">
                            <span class="linked-card-zettel">11.3</span>
                            <span class="linked-card-preview">Neural Networks</span>
                        </a>
                        <a href="#" class="linked-card-item">
                            <span class="linked-card-zettel">11.4a</span>
                            <span class="linked-card-preview">Decision Trees and Random Forests</span>
                        </a>
                        <a href="#" class="linked-card-item">
                            <span class="linked-card-zettel">13.2</span>
                            <span class="linked-card-preview">Support Vector Machines</span>
                        </a>
                        <a href="#" class="linked-card-item">
                            <span class="linked-card-zettel">10.1</span>
                            <span class="linked-card-preview">Linear Regression Fundamentals</span>
                        </a>
                    </div>
                </div>

                <!-- Collapsible Backlinks Section -->
                <div class="backlinks">
                    <div class="backlinks-header collapsed" onclick="toggleSection('backlinks-list-1', this)">
                        <div class="section-header-left">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="9,10 4,15 9,20"/>
                                <path d="M20 4v7a4 4 0 0 1-4 4H4"/>
                            </svg>
                            <span>Backlinks</span>
                            <div class="section-count-badge">3</div>
                        </div>
                        <span class="section-toggle-icon">▶</span>
                    </div>
                    <div class="backlinks-list collapsed" id="backlinks-list-1">
                        <a href="#" class="backlink-item">
                            <span class="backlink-zettel">14.1</span>
                            <span class="backlink-preview">AI Ethics and Bias</span>
                        </a>
                        <a href="#" class="backlink-item">
                            <span class="backlink-zettel">15.3</span>
                            <span class="backlink-preview">Model Evaluation Techniques</span>
                        </a>
                        <a href="#" class="backlink-item">
                            <span class="backlink-zettel">9.2</span>
                            <span class="backlink-preview">Data Preprocessing Methods</span>
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <!-- Card without links (showing graceful handling) -->
        <div class="card" data-id="2">
            <div class="card-header">
                <span class="zettel-id">16.8</span>
                <h4 class="card-title">Quantum Computing Basics</h4>
                <div class="card-header-meta">
                    <div class="card-header-meta-item">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
                            <line x1="16" y1="2" x2="16" y2="6"/>
                            <line x1="8" y1="2" x2="8" y2="6"/>
                            <line x1="3" y1="10" x2="21" y2="10"/>
                        </svg>
                        <span class="card-header-meta-value">Sept 1, 2025</span>
                    </div>
                    <div class="card-header-meta-item">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M9 11H5a2 2 0 0 0-2 2v5a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-5a2 2 0 0 0-2-2h-4"/>
                            <path d="M9 7l3-3 3 3"/>
                            <path d="M12 4v8"/>
                        </svg>
                        <span class="card-header-meta-value">2 reviews</span>
                    </div>
                    <div class="card-header-meta-item">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="3"/>
                            <path d="M12 1v6m0 6v6m11-7h-6m-6 0H1"/>
                        </svg>
                        <span class="card-header-meta-value">Learning</span>
                    </div>
                </div>
            </div>
            <div class="card-content">
                <p>Quantum computing leverages quantum mechanical phenomena like superposition and entanglement to process information in ways classical computers cannot. This represents a fundamental shift in computational paradigms.</p>
                <p><strong>Note:</strong> This card has no links yet - the system gracefully handles cards without connections.</p>
            </div>
        </div>

        <div style="margin-top: 2rem; padding: 1rem; background: #f7fafc; border-radius: 0.5rem;">
            <h3>Information Architecture Improvements:</h3>
            <ul>
                <li><strong>Collapsible Sections:</strong> Click headers to expand/collapse linked cards and backlinks</li>
                <li><strong>Count Badges:</strong> Clean numerical indicators show connection counts</li>
                <li><strong>Smart Truncation:</strong> Prioritizes card titles over content snippets in previews</li>
                <li><strong>Visual Hierarchy:</strong> Clear separation between different section types</li>
                <li><strong>User Preferences:</strong> Section states persist across page refreshes (localStorage)</li>
                <li><strong>Responsive Design:</strong> Adapts beautifully to mobile and desktop</li>
                <li><strong>Accessibility:</strong> Keyboard navigation and screen reader friendly</li>
            </ul>
            
            <div style="margin-top: 1rem; padding: 0.75rem; background: #e2e8f0; border-radius: 0.375rem; border-left: 4px solid #2c5282;">
                <strong>Try it:</strong> Click on the "Linked Cards" or "Backlinks" headers above to see the smooth collapse/expand animations. Your preferences will be remembered when you refresh the page!
            </div>
        </div>
    </div>

    <script>
        function toggleSection(listId, headerElement) {
            const list = document.getElementById(listId);
            const toggleIcon = headerElement.querySelector('.section-toggle-icon');
            
            if (!list || !toggleIcon) return;

            const isCollapsed = list.classList.contains('collapsed');

            if (isCollapsed) {
                // Expand
                list.classList.remove('collapsed');
                headerElement.classList.remove('collapsed');
                toggleIcon.textContent = '▼';
            } else {
                // Collapse
                list.classList.add('collapsed');
                headerElement.classList.add('collapsed');
                toggleIcon.textContent = '▶';
            }
        }
    </script>
</body>
</html>